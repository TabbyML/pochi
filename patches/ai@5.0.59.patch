diff --git a/node_modules/ai/.bun-tag-4ada6cc0b46cc36 b/.bun-tag-4ada6cc0b46cc36
new file mode 100644
index 0000000000000000000000000000000000000000..e69de29bb2d1d6434b8b29ae775ad8c2e48c5391
diff --git a/dist/index.mjs b/dist/index.mjs
index 4abe4552b293ab70f7d673b1efafb10c16d8c143..b07bfaf32396c8b0acbb6e74c200731b9b307f20 100644
--- a/dist/index.mjs
+++ b/dist/index.mjs
@@ -8988,6 +8988,7 @@ var DefaultMCPClient = class {
         });
       }
       this.serverCapabilities = result.capabilities;
+      this.instructions = result.instructions;
       await this.notification({
         method: "notifications/initialized"
       });
@@ -9806,6 +9807,13 @@ var AbstractChat = class {
     var _a17, _b, _c;
     this.setStatus({ status: "submitted", error: void 0 });
     const lastMessage = this.lastMessage;
+    const abortController = new AbortController();
+    this.activeResponse = {
+      abortController,
+    }
+    await this.onBeforeSnapshotInMakeRequest?.({
+      abortSignal: abortController.signal,
+    })
     let isAbort = false;
     let isDisconnect = false;
     let isError = false;
@@ -9815,7 +9823,7 @@ var AbstractChat = class {
           lastMessage: this.state.snapshot(lastMessage),
           messageId: this.generateId()
         }),
-        abortController: new AbortController()
+        abortController,
       };
       activeResponse.abortController.signal.addEventListener("abort", () => {
         isAbort = true;
@@ -9888,6 +9896,7 @@ var AbstractChat = class {
       if (isAbort || err.name === "AbortError") {
         isAbort = true;
         this.setStatus({ status: "ready" });
+        this.onError(err);
         return null;
       }
       isError = true;
